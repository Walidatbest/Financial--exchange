<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GCC Money Exchange Tracker - CRM</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .nav-tabs {
            display: flex;
            background: #f8f9fa;
            padding: 0;
            border-bottom: 2px solid #dee2e6;
            overflow-x: auto;
        }

        .nav-tab {
            padding: 15px 30px;
            cursor: pointer;
            border: none;
            background: none;
            font-size: 1em;
            font-weight: 600;
            color: #495057;
            transition: all 0.3s;
            white-space: nowrap;
        }

        .nav-tab:hover {
            background: #e9ecef;
        }

        .nav-tab.active {
            color: #667eea;
            border-bottom: 3px solid #667eea;
            background: white;
        }

        .content {
            padding: 30px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }

        .stat-card h3 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .stat-card p {
            opacity: 0.9;
            font-size: 1em;
        }

        .search-filter {
            display: flex;
            gap: 15px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }

        .search-filter input,
        .search-filter select {
            flex: 1;
            min-width: 200px;
            padding: 12px 20px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            font-size: 1em;
            transition: all 0.3s;
        }

        .search-filter input:focus,
        .search-filter select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .exchange-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 20px;
        }

        .exchange-card {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 15px;
            padding: 20px;
            transition: all 0.3s;
            cursor: pointer;
        }

        .exchange-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            border-color: #667eea;
        }

        .exchange-card.priority-high {
            border-left: 5px solid #dc3545;
        }

        .exchange-card.priority-medium {
            border-left: 5px solid #ffc107;
        }

        .exchange-card.priority-low {
            border-left: 5px solid #28a745;
        }

        .exchange-name {
            font-size: 1.3em;
            font-weight: 700;
            color: #212529;
            margin-bottom: 10px;
        }

        .exchange-info {
            display: flex;
            flex-direction: column;
            gap: 8px;
            font-size: 0.95em;
            color: #6c757d;
            margin-bottom: 15px;
        }

        .exchange-info span {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .status-badge {
            display: inline-block;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: 600;
            margin-top: 10px;
        }

        .status-not-contacted {
            background: #f8d7da;
            color: #721c24;
        }

        .status-initial-contact {
            background: #fff3cd;
            color: #856404;
        }

        .status-meeting-scheduled {
            background: #d1ecf1;
            color: #0c5460;
        }

        .status-proposal-sent {
            background: #d4edda;
            color: #155724;
        }

        .status-closed {
            background: #d6d8db;
            color: #383d41;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-primary {
            background: #667eea;
            color: white;
        }

        .btn-primary:hover {
            background: #5568d3;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: 20px;
            max-width: 800px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            padding: 30px;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
        }

        .modal-header h2 {
            font-size: 1.8em;
            color: #212529;
        }

        .close-btn {
            font-size: 2em;
            cursor: pointer;
            color: #6c757d;
            background: none;
            border: none;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #495057;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 1em;
        }

        .form-group textarea {
            min-height: 100px;
            resize: vertical;
        }

        .action-buttons {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        .country-flag {
            font-size: 1.2em;
        }

        @media (max-width: 768px) {
            .exchange-grid {
                grid-template-columns: 1fr;
            }

            .stats-grid {
                grid-template-columns: 1fr;
            }

            header h1 {
                font-size: 1.8em;
            }

            .search-filter {
                flex-direction: column;
            }

            .search-filter input,
            .search-filter select {
                width: 100%;
            }
        }

        .toast {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: #28a745;
            color: white;
            padding: 15px 25px;
            border-radius: 10px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
            z-index: 2000;
            display: none;
        }

        .toast.show {
            display: block;
            animation: slideIn 0.3s ease-out;
        }

        @keyframes slideIn {
            from {
                transform: translateX(400px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üè¶ GCC Money Exchange Tracker</h1>
            <p>CRM System for Electronic Signature Pad Sales | 57 Target Exchanges</p>
        </header>

        <div class="nav-tabs">
            <button class="nav-tab active" data-tab="dashboard">üìä Dashboard</button>
            <button class="nav-tab" data-tab="uae">üá¶üá™ UAE (21)</button>
            <button class="nav-tab" data-tab="kuwait">üá∞üáº Kuwait (12)</button>
            <button class="nav-tab" data-tab="oman">üá¥üá≤ Oman (10)</button>
            <button class="nav-tab" data-tab="saudi">üá∏üá¶ Saudi Arabia (9)</button>
            <button class="nav-tab" data-tab="qatar">üá∂üá¶ Qatar (5)</button>
        </div>

        <div class="content">
            <div id="dashboard-view">
                <div class="stats-grid">
                    <div class="stat-card">
                        <h3 id="stat-total">57</h3>
                        <p>Total Exchanges</p>
                    </div>
                    <div class="stat-card">
                        <h3 id="stat-not-contacted">57</h3>
                        <p>Not Contacted</p>
                    </div>
                    <div class="stat-card">
                        <h3 id="stat-in-progress">0</h3>
                        <p>In Progress</p>
                    </div>
                    <div class="stat-card">
                        <h3 id="stat-closed">0</h3>
                        <p>Closed</p>
                    </div>
                </div>

                <div class="search-filter">
                    <input type="text" id="search-input" placeholder="üîç Search by name, city, or phone...">
                    <select id="country-filter">
                        <option value="">All Countries</option>
                        <option value="UAE">UAE</option>
                        <option value="Kuwait">Kuwait</option>
                        <option value="Oman">Oman</option>
                        <option value="Saudi Arabia">Saudi Arabia</option>
                        <option value="Qatar">Qatar</option>
                    </select>
                    <select id="priority-filter">
                        <option value="">All Priorities</option>
                        <option value="High">High Priority</option>
                        <option value="Medium">Medium Priority</option>
                        <option value="Low">Low Priority</option>
                    </select>
                    <select id="status-filter">
                        <option value="">All Statuses</option>
                        <option value="Not Contacted">Not Contacted</option>
                        <option value="Initial Contact Made">Initial Contact Made</option>
                        <option value="Meeting Scheduled">Meeting Scheduled</option>
                        <option value="Proposal Sent">Proposal Sent</option>
                        <option value="Closed Won">Closed Won</option>
                        <option value="Closed Lost">Closed Lost</option>
                    </select>
                </div>

                <div class="exchange-grid" id="exchange-grid"></div>
            </div>
        </div>
    </div>

    <div class="modal" id="exchange-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modal-title">Exchange Details</h2>
                <button class="close-btn" onclick="closeModal()">&times;</button>
            </div>

            <div class="form-group">
                <label>Status</label>
                <select id="modal-status">
                    <option value="Not Contacted">Not Contacted</option>
                    <option value="Initial Contact Made">Initial Contact Made</option>
                    <option value="Meeting Scheduled">Meeting Scheduled</option>
                    <option value="Proposal Sent">Proposal Sent</option>
                    <option value="Closed Won">Closed Won</option>
                    <option value="Closed Lost">Closed Lost</option>
                </select>
            </div>

            <div class="form-group">
                <label>Priority</label>
                <select id="modal-priority">
                    <option value="High">High</option>
                    <option value="Medium">Medium</option>
                    <option value="Low">Low</option>
                </select>
            </div>

            <div class="form-group">
                <label>Last Contact Date</label>
                <input type="date" id="modal-last-contact">
            </div>

            <div class="form-group">
                <label>Next Follow-up Date</label>
                <input type="date" id="modal-next-followup">
            </div>

            <div class="form-group">
                <label>Contact Person</label>
                <input type="text" id="modal-contact-person" placeholder="Name and title">
            </div>

            <div class="form-group">
                <label>Contact Email</label>
                <input type="email" id="modal-contact-email" placeholder="email@example.com">
            </div>

            <div class="form-group">
                <label>Competitor Status</label>
                <select id="modal-competitor">
                    <option value="">No Information</option>
                    <option value="IBS Dubai (Signotec)">IBS Dubai (Signotec)</option>
                    <option value="Other Competitor">Other Competitor</option>
                    <option value="No Competitor">No Competitor</option>
                </select>
            </div>

            <div class="form-group">
                <label>Opportunity Value (AED)</label>
                <input type="number" id="modal-opportunity" placeholder="0">
            </div>

            <div class="form-group">
                <label>Notes / Call Log</label>
                <textarea id="modal-comments" placeholder="Add your notes, call outcomes, discussion points..."></textarea>
            </div>

            <div class="action-buttons">
                <button class="btn btn-primary" onclick="saveExchange()">üíæ Save Changes</button>
                <button class="btn" onclick="closeModal()">Cancel</button>
            </div>
        </div>
    </div>

    <div class="toast" id="toast">Changes saved successfully!</div>

    <script>
        // Exchange data
        let exchanges = [
            {"name":"Al Ansari Exchange","country":"UAE","city":"Dubai","branches":"280+","phone":"600 54 6000","website":"alansariexchange.com","notes":"Largest network in UAE","status":"Not Contacted","priority":"High","last_contact_date":"","next_followup_date":"","contact_person":"","contact_email":"","comments":"","opportunity_value":"","competitor_status":""},
            {"name":"Redha Al Ansari Exchange","country":"UAE","city":"Dubai","branches":"22+","phone":"600 54 1118","website":"www.redhaexchange.com","notes":"","status":"Not Contacted","priority":"Medium","last_contact_date":"","next_followup_date":"","contact_person":"","contact_email":"","comments":"","opportunity_value":"","competitor_status":""},
            {"name":"Sharaf Exchange","country":"UAE","city":"Dubai","branches":"Multiple","phone":"+971 4 355 4560","website":"sharafexchange.com","notes":"Part of Sharaf Group","status":"Not Contacted","priority":"High","last_contact_date":"","next_followup_date":"","contact_person":"","contact_email":"","comments":"","opportunity_value":"","competitor_status":""},
            {"name":"Al Fardan Exchange","country":"UAE","city":"Dubai","branches":"85+","phone":"600 52 2265","website":"alfardanexchange.com","notes":"Since 1954","status":"Not Contacted","priority":"High","last_contact_date":"","next_followup_date":"","contact_person":"","contact_email":"","comments":"","opportunity_value":"","competitor_status":""},
            {"name":"GCC Exchange","country":"UAE","city":"Dubai","branches":"16+","phone":"+971 4 256 6686","website":"gccexchange.com","notes":"","status":"Not Contacted","priority":"Medium","last_contact_date":"","next_followup_date":"","contact_person":"","contact_email":"","comments":"","opportunity_value":"","competitor_status":""},
            {"name":"Al Razouki International Exchange","country":"UAE","city":"Dubai","branches":"25+","phone":"+971 4 388 5803","website":"alrazouki.ae","notes":"Since 1981","status":"Not Contacted","priority":"Medium","last_contact_date":"","next_followup_date":"","contact_person":"","contact_email":"","comments":"","opportunity_value":"","competitor_status":""},
            {"name":"LuLu Exchange","country":"UAE","city":"Dubai","branches":"140+","phone":"600 52 2204","website":"luluexchange.com","notes":"In LuLu Hypermarkets","status":"Not Contacted","priority":"High","last_contact_date":"","next_followup_date":"","contact_person":"","contact_email":"","comments":"","opportunity_value":"","competitor_status":""},
            {"name":"Al Rostamani International Exchange","country":"UAE","city":"Dubai","branches":"30+","phone":"600 540 004","website":"alrostamaniexchange.com","notes":"Part of Al Rostamani Group","status":"Not Contacted","priority":"High","last_contact_date":"","next_followup_date":"","contact_person":"","contact_email":"","comments":"","opportunity_value":"","competitor_status":""},
            {"name":"LM Exchange","country":"UAE","city":"Dubai","branches":"45+","phone":"80056","website":"lm-exchange.com","notes":"Since 1970","status":"Not Contacted","priority":"Medium","last_contact_date":"","next_followup_date":"","contact_person":"","contact_email":"","comments":"","opportunity_value":"","competitor_status":""},
            {"name":"Wall Street Exchange","country":"UAE","city":"Dubai","branches":"Multiple","phone":"","website":"wallstreetexchange.ae","notes":"Since 1982","status":"Not Contacted","priority":"Medium","last_contact_date":"","next_followup_date":"","contact_person":"","contact_email":"","comments":"","opportunity_value":"","competitor_status":""},
            {"name":"Multinet Trust Exchange","country":"UAE","city":"Dubai","branches":"Multiple","phone":"","website":"multinettrust.com","notes":"","status":"Not Contacted","priority":"Low","last_contact_date":"","next_followup_date":"","contact_person":"","contact_email":"","comments":"","opportunity_value":"","competitor_status":""},
            {"name":"Universal Exchange","country":"UAE","city":"Ajman","branches":"Multiple","phone":"","website":"universalexchange.net","notes":"","status":"Not Contacted","priority":"Low","last_contact_date":"","next_followup_date":"","contact_person":"","contact_email":"","comments":"","opportunity_value":"","competitor_status":""},
            {"name":"Al Jaber Exchange","country":"UAE","city":"Abu Dhabi","branches":"Multiple","phone":"","website":"aljaberexchange.ae","notes":"Since 2009","status":"Not Contacted","priority":"Medium","last_contact_date":"","next_followup_date":"","contact_person":"","contact_email":"","comments":"","opportunity_value":"","competitor_status":""},
            {"name":"Horizon Exchange","country":"UAE","city":"Dubai","branches":"Multiple","phone":"","website":"horizonexchange.ae","notes":"Since 2004","status":"Not Contacted","priority":"Low","last_contact_date":"","next_followup_date":"","contact_person":"","contact_email":"","comments":"","opportunity_value":"","competitor_status":""},
            {"name":"Al Amal Express Exchange","country":"UAE","city":"Multiple","branches":"Multiple","phone":"","website":"","notes":"FERG Member","status":"Not Contacted","priority":"Low","last_contact_date":"","next_followup_date":"","contact_person":"","contact_email":"","comments":"","opportunity_value":"","competitor_status":""},
            {"name":"Al Dahab Exchange","country":"UAE","city":"Multiple","branches":"Multiple","phone":"","website":"","notes":"FERG Member","status":"Not Contacted","priority":"Low","last_contact_date":"","next_followup_date":"","contact_person":"","contact_email":"","comments":"","opportunity_value":"","competitor_status":""},
            {"name":"Al Dhahery Exchange","country":"UAE","city":"Multiple","branches":"Multiple","phone":"","website":"","notes":"FERG Member","status":"Not Contacted","priority":"Low","last_contact_date":"","next_followup_date":"","contact_person":"","contact_email":"","comments":"","opportunity_value":"","competitor_status":""},
            {"name":"Al Fuad Exchange","country":"UAE","city":"Multiple","branches":"Multiple","phone":"","website":"","notes":"FERG Member","status":"Not Contacted","priority":"Low","last_contact_date":"","next_followup_date":"","contact_person":"","contact_email":"","comments":"","opportunity_value":"","competitor_status":""},
            {"name":"Al Jarwan Exchange","country":"UAE","city":"Multiple","branches":"Multiple","phone":"","website":"","notes":"FERG Member","status":"Not Contacted","priority":"Low","last_contact_date":"","next_followup_date":"","contact_person":"","contact_email":"","comments":"","opportunity_value":"","competitor_status":""},
            {"name":"Al Shorafa Exchange","country":"UAE","city":"Multiple","branches":"Multiple","phone":"","website":"","notes":"FERG Member","status":"Not Contacted","priority":"Low","last_contact_date":"","next_followup_date":"","contact_person":"","contact_email":"","comments":"","opportunity_value":"","competitor_status":""},
            {"name":"Alfa Exchange","country":"UAE","city":"Multiple","branches":"Multiple","phone":"","website":"","notes":"FERG Member","status":"Not Contacted","priority":"Low","last_contact_date":"","next_followup_date":"","contact_person":"","contact_email":"","comments":"","opportunity_value":"","competitor_status":""},
            {"name":"Arabian Exchange Company","country":"Qatar","city":"Doha","branches":"14","phone":"44383222","website":"arabianex.com","notes":"Pioneer company","status":"Not Contacted","priority":"High","last_contact_date":"","next_followup_date":"","contact_person":"","contact_email":"","comments":"","opportunity_value":"","competitor_status":""},
            {"name":"Gulf Exchange","country":"Qatar","city":"Doha","branches":"20","phone":"44383222","website":"gulfexchange.com.qa","notes":"","status":"Not Contacted","priority":"High","last_contact_date":"","next_followup_date":"","contact_person":"","contact_email":"","comments":"","opportunity_value":"","competitor_status":""},
            {"name":"Eastern Exchange Company","country":"Qatar","city":"Doha","branches":"3","phone":"44439593","website":"easternexchangeqatar.com","notes":"Since 1979","status":"Not Contacted","priority":"Medium","last_contact_date":"","next_followup_date":"","contact_person":"","contact_email":"","comments":"","opportunity_value":"","competitor_status":""},
            {"name":"Al Dar Exchange","country":"Qatar","city":"Doha","branches":"20","phone":"","website":"aldarexchange.com","notes":"Since 2006","status":"Not Contacted","priority":"High","last_contact_date":"","next_followup_date":"","contact_person":"","contact_email":"","comments":"","opportunity_value":"","competitor_status":""},
            {"name":"Doha Exchange","country":"Qatar","city":"Doha","branches":"6","phone":"","website":"dohaex.com","notes":"Since 1979","status":"Not Contacted","priority":"Medium","last_contact_date":"","next_followup_date":"","contact_person":"","contact_email":"","comments":"","opportunity_value":"","competitor_status":""},
            {"name":"Al Rajhi Exchange","country":"Saudi Arabia","city":"Riyadh","branches":"Multiple","phone":"+966 9200 00084","website":"alrajhibank.com.sa","notes":"Part of Al Rajhi Bank","status":"Not Contacted","priority":"High","last_contact_date":"","next_followup_date":"","contact_person":"","contact_email":"","comments":"","opportunity_value":"","competitor_status":""},
            {"name":"Ersal Money Transfer","country":"Saudi Arabia","city":"Riyadh","branches":"Multiple","phone":"+966 800 111 1663","website":"splonline.com.sa","notes":"First licensed remittance company","status":"Not Contacted","priority":"High","last_contact_date":"","next_followup_date":"","contact_person":"","contact_email":"","comments":"","opportunity_value":"","competitor_status":""},
            {"name":"Al Natheer Exchange","country":"Saudi Arabia","city":"Riyadh","branches":"Multiple","phone":"+966 55 525 6551","website":"alnatheer.com","notes":"","status":"Not Contacted","priority":"Medium","last_contact_date":"","next_followup_date":"","contact_person":"","contact_email":"","comments":"","opportunity_value":"","competitor_status":""},
            {"name":"Omlah Exchange Company","country":"Saudi Arabia","city":"Riyadh","branches":"Multiple","phone":"+966 53 333 0327","website":"omlah-ex.com","notes":"Since 2015","status":"Not Contacted","priority":"Medium","last_contact_date":"","next_followup_date":"","contact_person":"","contact_email":"","comments":"","opportunity_value":"","competitor_status":""},
            {"name":"Alamoudi Exchange Company","country":"Saudi Arabia","city":"Jeddah","branches":"Multiple","phone":"+966 7001 485288","website":"alamoudiexchange.com","notes":"50 years of operations","status":"Not Contacted","priority":"High","last_contact_date":"","next_followup_date":"","contact_person":"","contact_email":"","comments":"","opportunity_value":"","competitor_status":""},
            {"name":"Mohammed Hassan Bin Yalla Exchange","country":"Saudi Arabia","city":"Riyadh","branches":"Multiple","phone":"+966 7007 774529","website":"byc.sa","notes":"","status":"Not Contacted","priority":"Low","last_contact_date":"","next_followup_date":"","contact_person":"","contact_email":"","comments":"","opportunity_value":"","competitor_status":""},
            {"name":"Altabdil Finance for Exchange","country":"Saudi Arabia","city":"Riyadh","branches":"Multiple","phone":"+966 55 525 6551","website":"","notes":"","status":"Not Contacted","priority":"Low","last_contact_date":"","next_followup_date":"","contact_person":"","contact_email":"","comments":"","opportunity_value":"","competitor_status":""},
            {"name":"Fawri Exchange","country":"Saudi Arabia","city":"Riyadh","branches":"Multiple","phone":"+966 9200 06666","website":"","notes":"","status":"Not Contacted","priority":"Low","last_contact_date":"","next_followup_date":"","contact_person":"","contact_email":"","comments":"","opportunity_value":"","competitor_status":""},
            {"name":"Al Subaie Money Exchange","country":"Saudi Arabia","city":"Riyadh","branches":"Multiple","phone":"+966 55 880 1234","website":"","notes":"Airport location","status":"Not Contacted","priority":"Low","last_contact_date":"","next_followup_date":"","contact_person":"","contact_email":"","comments":"","opportunity_value":"","competitor_status":""},
            {"name":"Unimoni Exchange","country":"Oman","city":"Muscat","branches":"Multiple","phone":"24796533","website":"unimoni.om","notes":"Leading money exchange","status":"Not Contacted","priority":"High","last_contact_date":"","next_followup_date":"","contact_person":"","contact_email":"","comments":"","opportunity_value":"","competitor_status":""},
            {"name":"Lulu Exchange Oman","country":"Oman","city":"Muscat","branches":"Multiple","phone":"24781727","website":"luluexchange.com","notes":"","status":"Not Contacted","priority":"High","last_contact_date":"","next_followup_date":"","contact_person":"","contact_email":"","comments":"","opportunity_value":"","competitor_status":""},
            {"name":"Musandam Exchange","country":"Oman","city":"Ruwi","branches":"Multiple","phone":"24834954","website":"","notes":"","status":"Not Contacted","priority":"Medium","last_contact_date":"","next_followup_date":"","contact_person":"","contact_email":"","comments":"","opportunity_value":"","competitor_status":""},
            {"name":"Mustafa Sultan Exchange Co.","country":"Oman","city":"Ruwi","branches":"Multiple","phone":"24706519","website":"","notes":"","status":"Not Contacted","priority":"Low","last_contact_date":"","next_followup_date":"","contact_person":"","contact_email":"","comments":"","opportunity_value":"","competitor_status":""},
            {"name":"Lakhoos Exchange","country":"Oman","city":"Ruwi","branches":"Multiple","phone":"24797737","website":"","notes":"","status":"Not Contacted","priority":"Low","last_contact_date":"","next_followup_date":"","contact_person":"","contact_email":"","comments":"","opportunity_value":"","competitor_status":""},
            {"name":"Oman Exchange Co.","country":"Oman","city":"Muscat","branches":"Multiple","phone":"24830893","website":"","notes":"","status":"Not Contacted","priority":"Low","last_contact_date":"","next_followup_date":"","contact_person":"","contact_email":"","comments":"","opportunity_value":"","competitor_status":""},
            {"name":"Gulf Overseas Exchange Co.","country":"Oman","city":"Ruwi","branches":"Multiple","phone":"24834182","website":"gulfexchangeoman.com","notes":"","status":"Not Contacted","priority":"Medium","last_contact_date":"","next_followup_date":"","contact_person":"","contact_email":"","comments":"","opportunity_value":"","competitor_status":""},
            {"name":"Modern Exchange Company","country":"Oman","city":"Ruwi","branches":"45+","phone":"24834103","website":"modernexchange.com.om","notes":"","status":"Not Contacted","priority":"High","last_contact_date":"","next_followup_date":"","contact_person":"","contact_email":"","comments":"","opportunity_value":"","competitor_status":""},
            {"name":"Joyalukkas Exchange Oman","country":"Oman","city":"Wadi Kabir","branches":"Multiple","phone":"24794017","website":"joyalukkasexchange.com","notes":"","status":"Not Contacted","priority":"Medium","last_contact_date":"","next_followup_date":"","contact_person":"","contact_email":"","comments":"","opportunity_value":"","competitor_status":""},
            {"name":"Wasel Exchange","country":"Oman","city":"Ruwi","branches":"Multiple","phone":"24813178","website":"","notes":"","status":"Not Contacted","priority":"Low","last_contact_date":"","next_followup_date":"","contact_person":"","contact_email":"","comments":"","opportunity_value":"","competitor_status":""},
            {"name":"Zajil Exchange Company","country":"Kuwait","city":"Kuwait City","branches":"3","phone":"(965) 22429328","website":"","notes":"","status":"Not Contacted","priority":"Medium","last_contact_date":"","next_followup_date":"","contact_person":"","contact_email":"","comments":"","opportunity_value":"","competitor_status":""},
            {"name":"Al Nada International Exchange","country":"Kuwait","city":"Salmiya","branches":"2","phone":"(965) 25749492","website":"alnadaex.com","notes":"","status":"Not Contacted","priority":"Medium","last_contact_date":"","next_followup_date":"","contact_person":"","contact_email":"","comments":"","opportunity_value":"","competitor_status":""},
            {"name":"Kuwait India International Exchange","country":"Kuwait","city":"Al-Murqab","branches":"Multiple","phone":"(965) 22422733","website":"","notes":"","status":"Not Contacted","priority":"Low","last_contact_date":"","next_followup_date":"","contact_person":"","contact_email":"","comments":"","opportunity_value":"","competitor_status":""},
            {"name":"City International Exchange","country":"Kuwait","city":"Kuwait City","branches":"Multiple","phone":"(965) 22448507","website":"","notes":"","status":"Not Contacted","priority":"Low","last_contact_date":"","next_followup_date":"","contact_person":"","contact_email":"","comments":"","opportunity_value":"","competitor_status":""},
            {"name":"Almuzaini Exchange Company","country":"Kuwait","city":"Kuwait City","branches":"Multiple","phone":"(965) 22461135","website":"almuzainiexchange.com","notes":"","status":"Not Contacted","priority":"High","last_contact_date":"","next_followup_date":"","contact_person":"","contact_email":"","comments":"","opportunity_value":"","competitor_status":""},
            {"name":"Al-Zamel Exchange Company","country":"Kuwait","city":"Kuwait City","branches":"Multiple","phone":"(965) 22429228","website":"","notes":"","status":"Not Contacted","priority":"Low","last_contact_date":"","next_followup_date":"","contact_person":"","contact_email":"","comments":"","opportunity_value":"","competitor_status":""},
            {"name":"National Money Exchange Company","country":"Kuwait","city":"Kuwait City","branches":"Multiple","phone":"(965) 22452732","website":"","notes":"","status":"Not Contacted","priority":"Low","last_contact_date":"","next_followup_date":"","contact_person":"","contact_email":"","comments":"","opportunity_value":"","competitor_status":""},
            {"name":"LuLu Exchange Kuwait","country":"Kuwait","city":"Kuwait City","branches":"19","phone":"00965 22022185","website":"luluexchange.com","notes":"","status":"Not Contacted","priority":"High","last_contact_date":"","next_followup_date":"","contact_person":"","contact_email":"","comments":"","opportunity_value":"","competitor_status":""},
            {"name":"Joyalukkas Exchange Kuwait","country":"Kuwait","city":"Kuwait City","branches":"13","phone":"965 2227 9470","website":"joyalukkasexchange.com","notes":"","status":"Not Contacted","priority":"High","last_contact_date":"","next_followup_date":"","contact_person":"","contact_email":"","comments":"","opportunity_value":"","competitor_status":""},
            {"name":"Al Mulla International Exchange","country":"Kuwait","city":"Kuwait City","branches":"7","phone":"00965 1840123","website":"almullaexchange.com","notes":"","status":"Not Contacted","priority":"High","last_contact_date":"","next_followup_date":"","contact_person":"","contact_email":"","comments":"","opportunity_value":"","competitor_status":""},
            {"name":"BEC Kuwait","country":"Kuwait","city":"Kuwait City","branches":"Multiple","phone":"","website":"bec.com.kw","notes":"","status":"Not Contacted","priority":"Medium","last_contact_date":"","next_followup_date":"","contact_person":"","contact_email":"","comments":"","opportunity_value":"","competitor_status":""},
            {"name":"Aman Exchange","country":"Kuwait","city":"Kuwait City","branches":"Multiple","phone":"","website":"amankuwait.com","notes":"","status":"Not Contacted","priority":"Medium","last_contact_date":"","next_followup_date":"","contact_person":"","contact_email":"","comments":"","opportunity_value":"","competitor_status":""}
        ];

        let currentExchangeIndex = null;
        let filteredExchanges = [...exchanges];

        // Country flags
        const countryFlags = {
            'UAE': 'üá¶üá™',
            'Qatar': 'üá∂üá¶',
            'Saudi Arabia': 'üá∏üá¶',
            'Oman': 'üá¥üá≤',
            'Kuwait': 'üá∞üáº'
        };

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            renderExchanges();
            updateStats();
            setupEventListeners();
        });

        function setupEventListeners() {
            // Tab navigation
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
                    this.classList.add('active');

                    const country = this.dataset.tab;
                    if (country === 'dashboard') {
                        document.getElementById('country-filter').value = '';
                    } else {
                        const countryMap = {
                            'uae': 'UAE',
                            'qatar': 'Qatar',
                            'saudi': 'Saudi Arabia',
                            'oman': 'Oman',
                            'kuwait': 'Kuwait'
                        };
                        document.getElementById('country-filter').value = countryMap[country];
                    }
                    filterExchanges();
                });
            });

            // Search and filters
            document.getElementById('search-input').addEventListener('input', filterExchanges);
            document.getElementById('country-filter').addEventListener('change', filterExchanges);
            document.getElementById('priority-filter').addEventListener('change', filterExchanges);
            document.getElementById('status-filter').addEventListener('change', filterExchanges);
        }

        function filterExchanges() {
            const search = document.getElementById('search-input').value.toLowerCase();
            const country = document.getElementById('country-filter').value;
            const priority = document.getElementById('priority-filter').value;
            const status = document.getElementById('status-filter').value;

            filteredExchanges = exchanges.filter(ex => {
                const matchSearch = !search || 
                    ex.name.toLowerCase().includes(search) ||
                    ex.city.toLowerCase().includes(search) ||
                    ex.phone.includes(search);
                const matchCountry = !country || ex.country === country;
                const matchPriority = !priority || ex.priority === priority;
                const matchStatus = !status || ex.status === status;

                return matchSearch && matchCountry && matchPriority && matchStatus;
            });

            renderExchanges();
        }

        function renderExchanges() {
            const grid = document.getElementById('exchange-grid');
            grid.innerHTML = '';

            filteredExchanges.forEach((exchange, index) => {
                const card = document.createElement('div');
                card.className = `exchange-card priority-${exchange.priority.toLowerCase()}`;
                card.onclick = () => openModal(exchanges.indexOf(exchange));

                const statusClass = exchange.status.toLowerCase().replace(/ /g, '-');

                card.innerHTML = `
                    <div class="exchange-name">${exchange.name}</div>
                    <div class="exchange-info">
                        <span>${countryFlags[exchange.country]} ${exchange.city}, ${exchange.country}</span>
                        <span>üè¢ ${exchange.branches} branches</span>
                        ${exchange.phone ? `<span>üìû ${exchange.phone}</span>` : ''}
                        ${exchange.website ? `<span>üåê ${exchange.website}</span>` : ''}
                        ${exchange.notes ? `<span>üìù ${exchange.notes}</span>` : ''}
                    </div>
                    <div class="status-badge status-${statusClass}">${exchange.status}</div>
                    ${exchange.competitor_status ? `<div style="margin-top:10px;color:#dc3545;font-size:0.9em;">‚ö†Ô∏è ${exchange.competitor_status}</div>` : ''}
                `;

                grid.appendChild(card);
            });
        }

        function updateStats() {
            const total = exchanges.length;
            const notContacted = exchanges.filter(e => e.status === 'Not Contacted').length;
            const inProgress = exchanges.filter(e => 
                e.status === 'Initial Contact Made' || 
                e.status === 'Meeting Scheduled' || 
                e.status === 'Proposal Sent'
            ).length;
            const closed = exchanges.filter(e => 
                e.status === 'Closed Won' || 
                e.status === 'Closed Lost'
            ).length;

            document.getElementById('stat-total').textContent = total;
            document.getElementById('stat-not-contacted').textContent = notContacted;
            document.getElementById('stat-in-progress').textContent = inProgress;
            document.getElementById('stat-closed').textContent = closed;
        }

        function openModal(index) {
            currentExchangeIndex = index;
            const exchange = exchanges[index];

            document.getElementById('modal-title').textContent = exchange.name;
            document.getElementById('modal-status').value = exchange.status;
            document.getElementById('modal-priority').value = exchange.priority;
            document.getElementById('modal-last-contact').value = exchange.last_contact_date;
            document.getElementById('modal-next-followup').value = exchange.next_followup_date;
            document.getElementById('modal-contact-person').value = exchange.contact_person;
            document.getElementById('modal-contact-email').value = exchange.contact_email;
            document.getElementById('modal-competitor').value = exchange.competitor_status;
            document.getElementById('modal-opportunity').value = exchange.opportunity_value;
            document.getElementById('modal-comments').value = exchange.comments;

            document.getElementById('exchange-modal').classList.add('active');
        }

        function closeModal() {
            document.getElementById('exchange-modal').classList.remove('active');
        }

        function saveExchange() {
            if (currentExchangeIndex === null) return;

            const exchange = exchanges[currentExchangeIndex];
            exchange.status = document.getElementById('modal-status').value;
            exchange.priority = document.getElementById('modal-priority').value;
            exchange.last_contact_date = document.getElementById('modal-last-contact').value;
            exchange.next_followup_date = document.getElementById('modal-next-followup').value;
            exchange.contact_person = document.getElementById('modal-contact-person').value;
            exchange.contact_email = document.getElementById('modal-contact-email').value;
            exchange.competitor_status = document.getElementById('modal-competitor').value;
            exchange.opportunity_value = document.getElementById('modal-opportunity').value;
            exchange.comments = document.getElementById('modal-comments').value;

            renderExchanges();
            updateStats();
            closeModal();
            showToast('Changes saved successfully! ‚úÖ');
        }

        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.classList.add('show');
            setTimeout(() => toast.classList.remove('show'), 3000);
        }

        // Close modal on outside click
        document.getElementById('exchange-modal').addEventListener('click', function(e) {
            if (e.target === this) closeModal();
        });
    </script>
</body>
</html>
